{
  "hash": "510c598824c581831ebef3ec3c4400a0",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: The basics of working on the UNIX command line\nauthor: Christopher Paciorek\ndate: \"2024-10-30\"\nformat:\n  html:\n    theme: cosmo\n    css: assets/styles.css\n    toc: true\n    code-copy: true\n    code-block-background: true\nexecute:\n  freeze: auto\nengine: knitr\nipynb-shell-interactivity: all\ncode-overflow: wrap\n---\n\n\n\n\n# 1 Introduction\n\n## 1.1 This Tutorial\n\nThis tutorial covers the basics of navigating in a UNIX-like (e.g., Linux or MacOs) environment. In particular, it covers using the UNIX command line interface, a powerful way to carry out operations on a computer and to automate tasks.  Being familiar with operating on the command line will allow you (with some practice and training) to do things more quickly and in a way that can be reproduced later. That's hard or impossible to do if you are doing point-and-click or drag-and-drop operations in a File Manager or Finder window.\n\nMaterials for this tutorial, including the Quarto Markdown file that was used to create this document are [available on GitHub](https://github.com/berkeley-scf/tutorial-unix-basics).\n\nSoftware Carpentry has a very nice introductory lesson on the [basics of the shell](https://swcarpentry.github.io/shell-novice/). It also has an accompanying [YouTube video](https://www.youtube.com/watch?v=8c1BL5b47kg). Episodes 1-3 (the first 20 minutes) cover the material that is in this tutorial.\n\nThis tutorial by Christopher Paciorek is licensed under a Creative Commons Attribution 3.0 Unported License.\n\n<!--\nDetermine output under the scflocal account on gandalf\n-->\n\n## 1.2 The shell\n\nOperating on the UNIX command line is also known as \"using the terminal\" and \"using the shell\".\n\nThe shell is the UNIX program that you interact with when in a terminal window interacting with a UNIX-style operating system (e.g., Linux or MacOS). The shell sits between you and the operating system and provides useful commands and functionality. Basically, the shell is a program that serves to run other commands for you and show you the results. There are actually different shells that you can use, of which `bash` is very common and is the default on many systems. In recent versions of MacOS, `zsh` is the default shell. zsh is an extension of bash, so you should be able to use zsh based on this tutorial.\n\nI've generated this document based on using the bash shell on a computer running the Ubuntu Linux version 22.04 operating system, but you should be able to replicate most of the steps in this tutorial in other UNIX command line environments, ideally using the bash or zsh shells. \n\n## 1.3 Accessing a UNIX command line interface\n\nHere are some options for accessing a UNIX command line interface:\n\n  - MacOS: If you'd like to work on your own Mac, you'll find the Terminal under\n      `Applications -> Utilities -> Terminal`.\n  - Windows:\n      - If you have a sufficiently new version of Windows 10, you can use the [Windows Subsystem for Linux](https://msdn.microsoft.com/en-us/commandline/wsl/install_guide), which will provide you with an Ubuntu shell running bash on your own machine.\n      - If you have access to remote machines running Linux, you can login to them using programs such as MobaXTerm and Putty. Once logged in, you'll find yourself in a Terminal window on the remote machine.\n  - JupyterHub: If you have access to a JupyterHub, you will likely be able to start a Terminal session under \"New\".\n  - Cloud-based options: You could also try a cloud service such as Google [Cloud Shell](https://shell.cloud.google.com).\n\n:::{.callout-warning title=\"Don't use Git Bash for this tutorial\"}\nYou probably shouldn't use `Git Bash` to follow this tutorial as its functionality is limited. \n:::\n\nOnce you're in a Terminal window, you'll be interacting with the shell and you can enter commands to get information and work with the system. Commands often have optional arguments (flags) that are specified with a minus in front of them, as we'll see. \n\n## 1.4 Getting started\n\nOnce we are in a terminal, we'll see the \"prompt\", which indicates that the shell is waiting for us to enter commands. Sometimes the prompt is just `$`:\n\n```\n$\n```\n\nbut often it contains information about the username of the current user and the directory on the filesystem that we are in. For example, here a prompt that shows that the current user is 'scflocal', on the machine named 'gandalf' in the 'tutorial-unix-basics' (sub)directory in the user's home directory (indicated by `~`):\n\n```\nscflocal@gandalf:~/tutorial-unix-basics>\n```\n\n:::{.callout-note title=\"Tutorial code formatting\"}\nIn the remainder of this tutorial, you won't see the prompt in front of the commands. All commands will appear in a grey background, with the output (if any) following the code.\n:::\n\n\n:::{.callout-note title=\"When the shell is waiting for more information\"}\nNote that if you simply see `>` instead of the usual prompt, that means the shell thinks you haven't finished entering your command (usually that you haven't finished entering a string) and is expecting more input from you. If you see a newline but nothing else, the shell probably expects you to enter some text for it to process.\n\nIf you're not sure what to do, type `Ctrl-c` (the control key and 'c' at the same time) to get back to the usual prompt.\n:::\n\nLet's start by running a command, `whoami`, that prints out the username of the current user:\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nwhoami\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nscflocal\n```\n\n\n:::\n:::\n\n\n\n\n\n\n# 2 Using `git` for version control\n\nWe'll discuss `git` briefly, both because it is an important and useful tool, and because it's the easiest way for us to get a set of files to work with in this tutorial. \n\nGit is an important tool to become familiar with, at least at the basic level. Git allows you to share files between different computers and different people and for people to collaborate on projects together. In particular, it is a version control tool that allows you to have different versions of your files and to go back to earlier versions of your files. Git stores the files for a project in a *repository*. \n\nFor our purposes here, we'll simply use Git to download materials from GitHub, a website that stores Git repositories in the cloud. \n\nFirst we'll download the materials for this tutorial.\n\nTo *clone* (i.e., copy) a repository (in this case from GitHub) we do the following. Note that `berkeley-scf` is the *organization* and `tutorial-unix-basics` is the *repository*. Note that everything below that follows the `#` symbol is a comment and not executed.\n\nHere we'll first use the `cd` command (for \"change directory\") to go to our home directory and then use `git clone` to download materials to a subdirectory (which will be called `tutorial-unix-basics`) within our home directory. \n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd\ngit clone https://github.com/berkeley-scf/tutorial-unix-basics\n```\n:::\n\n\n\n```\nCloning into 'tutorial-unix-basics'...\nremote: Enumerating objects: 387, done.\nremote: Counting objects: 100% (66/66), done.\nremote: Compressing objects: 100% (45/45), done.\nremote: Total 387 (delta 37), reused 46 (delta 19), pack-reused 321 (from 1)\nReceiving objects: 100% (387/387), 779.53 KiB | 5.27 MiB/s, done.\nResolving deltas: 100% (199/199), done.\n```\n\nNow suppose that whoever controls the repository makes some changes to the materials in the repository online and you want an updated copy of the repository on your computer. Simply use `cd` to go into any directory in the repository materials on your computer and run `git pull`.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd tutorial-unix-basics\n```\n:::\n\n::: {.cell}\n\n```{.bash .cell-code}\ngit pull\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nAlready up to date.\n```\n\n\n:::\n:::\n\n\n\n\nIn this case, since no changes had been made, git simply reports that things are up-to-date.\n\nWe'll discuss how to use `cd` in more detail in the next section.\n\n# 3 Files and directories\n\n## 3.1 Moving around and listing information\n\nWe'll start by thinking about the filesystem, which organizes our information/data into files on the computer's disk.\n\nAnytime you are at the UNIX command line, you have a *working directory*, which is your current location in the file system. \n\nHere's how you can see where you are using the `pwd` (\"print working directory\") command:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\npwd\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n/home/scflocal/tutorial-unix-basics\n```\n\n\n:::\n:::\n\n\n\n\nand here's how you use `ls` to list the files (and subdirectories) in the working directory...\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nls\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nassets\n_config.yml\nexample.text\nexample.txt\nfilename with spaces.txt\n_freeze\n_includes\nindex.qmd\nindex.rmarkdown\n_layouts\nmv_assets.sh\nmyfile\nname of my file with spaces.txt\n_quarto.yml\nREADME.md\n_sass\n_site\n```\n\n\n:::\n:::\n\n\n\n\nNow suppose I want to be in a different directory so I can see what is there or do things to the files in that directory.\n\nThe command you need is `cd` and an important concept you need to become familiar with is the notion of 'relative' versus 'absolute' *path*. A path is the set of nested directories that specify a location of interest on the filesystem.\n\nFirst let's go to our home directory, which is generally where our files will be. Simply running `cd` will do that.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd\npwd\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n/home/scflocal\n```\n\n\n:::\n:::\n\n\n\n\n\nNow let's go into a subdirectory. We can use `cd` with the name of the subdirectory. The subdirectory is found 'relative' to our working directory, i.e., found from where we currently are.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd tutorial-unix-basics\npwd\n```\n:::\n\n\n\n\n```\n/home/scflocal/tutorial-unix-basics\n```\n\nWe could also navigate through nested subdirectories. For example, after going back to our home directory, let's go to the `assets` subdirectory of the `tutorial-unix-basics` subdirectory. The `/` is a separate character that distinguishes the nested subdirectories.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd\ncd tutorial-unix-basics/assets\npwd\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n/home/scflocal/tutorial-unix-basics/assets\n```\n\n\n:::\n:::\n\n\n\n\n\nYou can access the parent directory of any directory using `..`:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\npwd\ncd ..\npwd\n```\n:::\n\n\n\n```\n/home/scflocal/tutorial-unix-basics/assets\n/home/scflocal/tutorial-unix-basics\n```\n\n\nWe can get more complicated in our use of `..` with relative paths. Here we'll go up a directory and then down to a different subdirectory.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd assets\ncd ../_includes \npwd\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n/home/scflocal/tutorial-unix-basics/_includes\n```\n\n\n:::\n:::\n\n\n\n\n\nAnd here we'll go up two directories and then down to another subdirectory.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd ../../Desktop  # go up two directories and down\npwd\n```\n:::\n\n\n\n\n```\n/home/scflocal/Desktop\n```\n\nAll of the above examples used relative paths to navigate based on your working directory at the moment you ran the command.\n\nWe can instead use absolute paths so that it doesn't matter where we are when we run the command. Specifying an absolute path is done by having your path start with `/`, such as `/home/scflocal`. If the path doesn't start with `/` then it is interpreted as being a relative path, relative to your working directory. Here we'll go to the `units` subdirectory again, but this time using an absolute path. \n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd /home/scflocal/tutorial-unix-basics/assets\npwd\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n/home/scflocal/tutorial-unix-basics/assets\n```\n\n\n:::\n:::\n\n\n\n\n:::{.callout-warning title=\"Absolute paths are not robust\"}\nNote that using absolute paths in scripts is generally a bad idea because the script wouldn't generally work correctly if run on a different machine (which will generally have a different filesystem structure) or as a different user (who will have a different home directory).\n:::\n\n## 3.2 The filesystem\n\nThe filesystem is basically a upside-down tree.\n\nFor example, if we just consider the `tutorial-unix-basics` directory, we can see the tree structure using `tree`:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ntree\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n.\n├── assets\n│   ├── css\n│   │   └── style.scss\n│   ├── fonts\n│   │   ├── Noto-Sans-700\n│   │   │   ├── Noto-Sans-700.eot\n│   │   │   ├── Noto-Sans-700.svg\n│   │   │   ├── Noto-Sans-700.ttf\n│   │   │   ├── Noto-Sans-700.woff\n│   │   │   └── Noto-Sans-700.woff2\n│   │   ├── Noto-Sans-700italic\n│   │   │   ├── Noto-Sans-700italic.eot\n│   │   │   ├── Noto-Sans-700italic.svg\n│   │   │   ├── Noto-Sans-700italic.ttf\n│   │   │   ├── Noto-Sans-700italic.woff\n│   │   │   └── Noto-Sans-700italic.woff2\n│   │   ├── Noto-Sans-italic\n│   │   │   ├── Noto-Sans-italic.eot\n│   │   │   ├── Noto-Sans-italic.svg\n│   │   │   ├── Noto-Sans-italic.ttf\n│   │   │   ├── Noto-Sans-italic.woff\n│   │   │   └── Noto-Sans-italic.woff2\n│   │   └── Noto-Sans-regular\n│   │       ├── Noto-Sans-regular.eot\n│   │       ├── Noto-Sans-regular.svg\n│   │       ├── Noto-Sans-regular.ttf\n│   │       ├── Noto-Sans-regular.woff\n│   │       └── Noto-Sans-regular.woff2\n│   ├── img\n│   │   ├── logo.svg\n│   │   └── ls_format.png\n│   ├── js\n│   │   └── scale.fix.js\n│   ├── stat_bear.png\n│   └── styles.css\n├── _config.yml\n├── example.text\n├── example.txt\n├── filename with spaces.txt\n├── _freeze\n├── _includes\n│   └── toc.html\n├── index.qmd\n├── index.rmarkdown\n├── _layouts\n│   └── default.html\n├── mv_assets.sh\n├── myfile\n├── name of my file with spaces.txt\n├── _quarto.yml\n├── README.md\n├── _sass\n│   ├── fonts.scss\n│   ├── jekyll-theme-minimal.scss\n│   ├── jekyll-theme-minimal.scss.bak\n│   ├── minimal.scss\n│   └── rouge-github.scss\n└── _site\n\n14 directories, 44 files\n```\n\n\n:::\n:::\n\n\n\n\nThe dot (`.`) means \"this directory\", so the top of the tree here is the `tutorial-unix-basics` directory itself, within which there are subdirectories, `asset`, `_includes`, `_layouts`, etc. Then within each of these are files and further subdirectories (as seen in the case of `assets`, which has subdirectories named `css` and `fonts`.)\n\nIf we consider the entire filesystem, the top, or root of the tree, is the `/` directory. Within `/` there are subdirectories, such as `/home` (which contains users' home directories where all of the files owned by a user are stored) and `/bin` (containing UNIX programs, aka 'binaries'). We'll use `ls` again, this time telling it the directory to operate on:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nls /\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\naccounts\napp\nbin\nboot\ndev\netc\nhome\nlib\nlib32\nlib64\nlibx32\nlost+found\nmedia\nmirror\nmnt\nopt\npool0\nproc\nroot\nrun\nsbin\nscratch\nserver\nsrv\nswap.img\nsys\nsystem\ntmp\nusr\nvar\n```\n\n\n:::\n:::\n\n\n\n\n\nIf there is a user named `scflocal`, everything specific to that user would be stored in the user's *home directory*. Here that is `/home/scflocal`, but the exact location may differ on different systems. The shortcut `~scflocal` refers to the `scflocal` home directory, `/home/scflocal`. If you are the `scflocal` user, you can also refer to your home directory by the shortcut `~`.\n\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nls /home\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nscflocal\nshiny\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd /home/scflocal\npwd\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n/home/scflocal\n```\n\n\n:::\n:::\n\n\n\n\nGo to the home directory of the current user (which happens to be the `scflocal` user):\n\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd ~\npwd\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n/home/scflocal\n```\n\n\n:::\n:::\n\n\n\n\n\nGo to the home directory of the scflocal user explicitly:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd ~scflocal\npwd\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n/home/scflocal\n```\n\n\n:::\n:::\n\n\n\n\n\nAnother useful directory is `/tmp`, which is a good place to put temporary files that you only need briefly and don't need to save. These will disappear when a machine is rebooted. \n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd /tmp\nls\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nassets\nassets.tgz\nquarto-sessionfc322d45beb8be16\nRtmp2iTaIR\nTemp-76c6318d-4f54-44d2-8bd9-d9a42eeeb7ce\ntest\n```\n\n\n:::\n:::\n\n\n\n\n\nWe can return to the most recent directory we were in like this:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd -\npwd\n```\n:::\n\n\n\n\n```\n/home/scflocal\n```\n\n# 4 Using commands\n\n## 4.1 Overview\n\nLet's look more at various ways to use commands. We just saw the `ls` command. Here's one way we can modify the behavior of the command by passing a command option. Here the `-F` option (also called a 'flag') shows directories by appending `/` to anything that is a directory (rather than a file) and a `*` to anything that is an executable (i.e., a program).\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nls -F\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nassets/\n_config.yml\nexample.text\nexample.txt\nfilename with spaces.txt\n_freeze/\n_includes/\nindex.qmd\nindex.rmarkdown\n_layouts/\nmv_assets.sh\nmyfile\nname of my file with spaces.txt\n_quarto.yml\nREADME.md\n_sass/\n_site/\n```\n\n\n:::\n:::\n\n\n\n\n\nNext we'll use multiple options to the `ls` command. `-l` shows extended information about files/directories. `-t` shows files/directories in order of the time at which they were last modified and `-r` shows in reverse order. Before I run `ls`, I'll create an empty file using the `touch` command. Given this, what file do you expect to be displayed last when you do the following?\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ntouch myfile\nls -lrt\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\ntotal 112\ndrwxr-xr-x 2 scflocal scflocal  4096 Oct 29 15:17 _sass\ndrwxr-xr-x 2 scflocal scflocal  4096 Oct 29 15:17 _layouts\ndrwxr-xr-x 2 scflocal scflocal  4096 Oct 29 15:17 _includes\n-rw-r--r-- 1 scflocal scflocal   291 Oct 29 15:17 _config.yml\n-rw-r--r-- 1 scflocal scflocal   567 Oct 30 16:35 README.md\n-rw-r--r-- 1 scflocal scflocal     6 Oct 30 16:38 name of my file with spaces.txt\n-rw-r--r-- 1 scflocal scflocal    52 Oct 30 16:45 example.text\n-rw-r--r-- 1 scflocal scflocal    91 Oct 30 17:00 mv_assets.sh\n-rw-r--r-- 1 scflocal scflocal    51 Oct 30 17:03 example.txt\n-rw-r--r-- 1 scflocal scflocal    10 Oct 30 17:11 filename with spaces.txt\n-rw-r--r-- 1 scflocal scflocal   446 Oct 30 17:18 _quarto.yml\n-rw-r--r-- 1 scflocal scflocal 26573 Oct 30 17:18 index.qmd\ndrwxr-xr-x 6 scflocal scflocal  4096 Oct 30 17:18 assets\ndrwxr-xr-x 2 scflocal scflocal  4096 Oct 30 17:18 _site\ndrwxr-xr-x 2 scflocal scflocal  4096 Oct 30 17:18 _freeze\n-rw-r--r-- 1 scflocal scflocal 26897 Oct 30 17:18 index.rmarkdown\n-rw-r--r-- 1 scflocal scflocal     0 Oct 30 17:18 myfile\n```\n\n\n:::\n:::\n\n\n\n\nWhile each command has its own syntax, there are some rules usually\nfollowed. Generally, executing a command consists of four things:\n\n  - the command\n  - command option(s)\n  - argument(s) \n  - line acceptance\n  \nHere's an example:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nwc -l example.txt\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n4 example.txt\n```\n\n\n:::\n:::\n\n\n\n\nIn the above example, `wc` is the command, `-l` is a command option\nspecifying to count the number of lines, `example.txt` is the argument, and the\nline acceptance is indicated by hitting the `Enter` key at the end of\nthe line.\n\nSo that invocation counts the number of lines in the file named `example.txt`.\n\nThe spaces are required and distinguish the different parts of the invocation. For this reason,\nit's generally a bad idea to have spaces within file names on a UNIX system. But if you do, you can\nuse quotation marks to distinguish the file name, e.g.,\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\necho \"some text\" > \"filename with spaces.txt\"\nls -l \"filename with spaces.txt\"\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n-rw-r--r-- 1 scflocal scflocal 10 Oct 30 17:18 filename with spaces.txt\n```\n\n\n:::\n:::\n\n\n\n\nAlso, capitalization matters. For example `-l` and `-L` are different options.\n\nNote that options, arguments, or both might not be included in some cases. Recall that we've used `ls`\nwithout either options or arguments.\n\nArguments are usually one or more files or directories.\n\n## 4.2 Options\n\nOften we can specify an option either in short form (as with `-l` here)\nor long form (`--lines` here), as seen in the following equivalent invocations:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nwc -l example.txt\nwc --lines example.txt\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n4 example.txt\n4 example.txt\n```\n\n\n:::\n:::\n\n\n\n\n\nWe can also ask for the number of characters with the `-m` option, which can\nbe combined with the `-l` option equivalently in two ways:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nwc -lm example.txt\nwc -l -m example.txt\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n 4 51 example.txt\n 4 51 example.txt\n```\n\n\n:::\n:::\n\n\n\n\n\nOptions will often take values, e.g., if we want to get the first two lines of the file,\nthe following invocations are equivalent:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nhead -n 2 example.txt\nhead --lines=2 example.txt\nhead --lines 2 example.txt\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nHello there.\nThis is a file\nHello there.\nThis is a file\nHello there.\nThis is a file\n```\n\n\n:::\n:::\n\n\n\n\n\n## 4.3 Comments\n\nAnything that follows `#` is a comment and is ignored.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\n# This is ignored\nls  # Everything after the # is ignored\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nassets\n_config.yml\nexample.text\nexample.txt\nfilename with spaces.txt\n_freeze\n_includes\nindex.qmd\nindex.rmarkdown\n_layouts\nmv_assets.sh\nmyfile\nname of my file with spaces.txt\n_quarto.yml\nREADME.md\n_sass\n_site\n```\n\n\n:::\n:::\n\n\n\n\n## 4.4 Getting help with UNIX commands\n\nEssentially all UNIX commands have  help information (called a man page), accessed using `man`. We won't show the results here as they are rather long.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nman ls\n```\n:::\n\n\n\n\nYou should try it yourself to practice viewing man pages. Once you are in the man page, you can navigate by hitting the space bar (to scroll down) and the up and down arrows. You can search by typing `/`, typing the string you want to search for and hitting `<Enter>`. You can use `n` and `p` for the next and previous search hits and `q` to quit out of the search.\n\nUnfortunately man pages are often quite long, hard to understand, and without examples. But the information you need is usually there if you take the time to look for it.\n\nAlso, UNIX commands as well as other programs run from the command line often provide help information via the `--help` option:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nls --help\n```\n:::\n\n\n\n\nAgain, we're not showing the output as it is rather long.\n\n## 4.5 Seeing if a command or program is available\n\nYou can see if a command or program is installed (and where it is installed) using `type`.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ntype grep\ntype R\ntype python\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\ngrep is /usr/bin/grep\nR is /usr/bin/R\npython is /usr/local/linux/miniforge-3.12/bin/python\n```\n\n\n:::\n:::\n\n\n\n\n# 5 Working with files\n\n## 5.1 Copying and removing files\n\nYou'll often want to make a copy of a file, move it between directories, or remove it. \n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncp \ncp example.txt example-new.txt\nmv example-new.txt /tmp/.\ncd /tmp\nls -lrt\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\ncp: missing file operand\nTry 'cp --help' for more information.\ntotal 468\ndrwx------ 2 scflocal scflocal   4096 Oct 29 15:21 Temp-76c6318d-4f54-44d2-8bd9-d9a42eeeb7ce\ndrwxr-xr-x 6 scflocal scflocal   4096 Oct 30 17:10 assets\ndrwxr-xr-x 2 scflocal scflocal   4096 Oct 30 17:11 test\n-rw-r--r-- 1 scflocal scflocal 453021 Oct 30 17:11 assets.tgz\ndrwx------ 6 scflocal scflocal   4096 Oct 30 17:18 quarto-sessionfc322d45beb8be16\ndrwx------ 2 scflocal scflocal   4096 Oct 30 17:18 Rtmp2iTaIR\n-rw-r--r-- 1 scflocal scflocal     51 Oct 30 17:18 example-new.txt\n```\n\n\n:::\n:::\n\n\n\n\nWhen we moved the file, the use of `/.` in `/tmp/.` indicates we want to use the same name as the original file.\n\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd /tmp\nrm example-new.txt\nls -lrt\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\ntotal 464\ndrwx------ 2 scflocal scflocal   4096 Oct 29 15:21 Temp-76c6318d-4f54-44d2-8bd9-d9a42eeeb7ce\ndrwxr-xr-x 6 scflocal scflocal   4096 Oct 30 17:10 assets\ndrwxr-xr-x 2 scflocal scflocal   4096 Oct 30 17:11 test\n-rw-r--r-- 1 scflocal scflocal 453021 Oct 30 17:11 assets.tgz\ndrwx------ 6 scflocal scflocal   4096 Oct 30 17:18 quarto-sessionfc322d45beb8be16\ndrwx------ 2 scflocal scflocal   4096 Oct 30 17:18 Rtmp2iTaIR\n```\n\n\n:::\n:::\n\n\n\n\n:::{.callout-important title=\"`rm` is forever\"}\nI used `rm` above to remove the file. Be very careful about removing files - there is no Trash folder in UNIX - once a file is removed, it's gone for good.\n:::\n\nThe `mv` command is also used if you want to rename a file. \n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd ~/tutorial-unix-basics\nmv example.txt silly_example.txt\nls\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nassets\n_config.yml\nexample.text\nfilename with spaces.txt\n_freeze\n_includes\nindex.qmd\nindex.rmarkdown\n_layouts\nmv_assets.sh\nmyfile\nname of my file with spaces.txt\n_quarto.yml\nREADME.md\n_sass\nsilly_example.txt\n_site\n```\n\n\n:::\n:::\n\n\n\n\n\nWe can copy and remove entire directories. The `-p` flag preserves the time stamp and other information associated with the files/directories, while the `-r` option copies recursively, such that the directory and all its contents (all child files and directories) are also copied.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncp -pr assets /tmp/.  # Copy the assets directory into /tmp.\ncd /tmp\nmkdir test\nmv assets test     # Move the assets directory into the test directory.\nls -l test/assets\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nmkdir: cannot create directory ‘test’: File exists\ntotal 112\ndrwxr-xr-x 2 scflocal scflocal  4096 Oct 29 15:17 css\ndrwxr-xr-x 6 scflocal scflocal  4096 Oct 29 15:17 fonts\ndrwxr-xr-x 2 scflocal scflocal  4096 Oct 29 15:17 img\ndrwxr-xr-x 2 scflocal scflocal  4096 Oct 29 15:17 js\n-rw-r--r-- 1 scflocal scflocal 92106 Oct 30 17:10 stat_bear.png\n-rw-r--r-- 1 scflocal scflocal   608 Oct 30 17:18 styles.css\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.bash .cell-code}\nrm -rf /tmp/test/assets   # Remove the ps directory and anything contained within it.\nls /tmp/test              # This should be empty now.\n```\n:::\n\n\n\n\nYou can use a variant of `cp` named `scp` to copy files between different UNIX-like machines. Suppose I have access to the machine *radagast.berkeley.edu* and that my user name on that machine is *scf1*. I can copy a file to that machine or from that machine as follows.\n\n(Note that I am not running the code in the process of generating this document.)\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd ~/tutorial-unix-basics\n\n# FROM the machine you're on TO another machine\n# Copy the file to the Desktop subdirectory of the scf1 home directory on the remote machine\nscp example.txt scf1@radagast.berkeley.edu:~/Desktop/.\n\n# FROM another machine TO the machine you're on\n# Copy a file from the /tmp directory of the remote machine to a specific directory on this machine\nscp scf1@radagast.berkeley.edu:/tmp/data.txt ~/Downloads/.\n```\n:::\n\n\n\n\n\n## 5.2 File names and extensions\n\nThe format a file is in is determined by the **actual content** of the file. You can determine the file format using `file`:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nfile index.qmd\nfile /usr/local/linux/miniforge-3.12/lib/python3.12/site-packages/numpy/dtypes.py\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nindex.qmd: exported SGML document, ASCII text, with very long lines (615)\n/usr/local/linux/miniforge-3.12/lib/python3.12/site-packages/numpy/dtypes.py: Python script, ASCII text executable\n```\n\n\n:::\n:::\n\n\n\n\n\nIn many cases, files have extensions such as `.csv` (for comma-separated text files), `.pdf` for PDFs, `.jpg` for JPEG files. The extension is a convention that helps us and programs distinguish different kinds of files and therefore know how to manipulate/interpret the files.\n\n:::{.callout-tip title=\"Filename extensions don't determine the file type\" collapse=\"false\"}\nThe extension is just a convention -- changing the file name doesn't change the file format!\n\nSo if make a copy of the `example.txt` file but name it `example.pdf`, we see that it's still just a simple text file even if I give it a name that would suggest it's a PDF.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncp silly_example.txt silly_example.pdf\ncat silly_example.pdf\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nHello there.\nThis is a file\nthat contains\n4 lines.\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.bash .cell-code}\nfile silly_example.pdf\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nsilly_example.pdf: ASCII text\n```\n\n\n:::\n:::\n\n\n\n\nHowever, changing the extension may prevent a program from using the file simply because the program was written to assume that files in a certain format have a certain extension.\n\n:::\n\n# 6 Other useful tools and information\n\n## 6.1 Compressing and uncompressing files\n\nThe `zip` utility compresses in a format compatible with zip files for Windows:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nzip -r assets.zip assets\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n  adding: assets/ (stored 0%)\n  adding: assets/css/ (stored 0%)\n  adding: assets/css/style.scss (stored 0%)\n  adding: assets/js/ (stored 0%)\n  adding: assets/js/scale.fix.js (deflated 62%)\n  adding: assets/fonts/ (stored 0%)\n  adding: assets/fonts/Noto-Sans-regular/ (stored 0%)\n  adding: assets/fonts/Noto-Sans-regular/Noto-Sans-regular.ttf (deflated 34%)\n  adding: assets/fonts/Noto-Sans-regular/Noto-Sans-regular.svg (deflated 66%)\n  adding: assets/fonts/Noto-Sans-regular/Noto-Sans-regular.woff2 (stored 0%)\n  adding: assets/fonts/Noto-Sans-regular/Noto-Sans-regular.eot (deflated 0%)\n  adding: assets/fonts/Noto-Sans-regular/Noto-Sans-regular.woff (deflated 1%)\n  adding: assets/fonts/Noto-Sans-700italic/ (stored 0%)\n  adding: assets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.ttf (deflated 32%)\n  adding: assets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.woff2 (stored 0%)\n  adding: assets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.eot (deflated 0%)\n  adding: assets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.woff (deflated 1%)\n  adding: assets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.svg (deflated 68%)\n  adding: assets/fonts/Noto-Sans-700/ (stored 0%)\n  adding: assets/fonts/Noto-Sans-700/Noto-Sans-700.ttf (deflated 35%)\n  adding: assets/fonts/Noto-Sans-700/Noto-Sans-700.eot (deflated 0%)\n  adding: assets/fonts/Noto-Sans-700/Noto-Sans-700.svg (deflated 66%)\n  adding: assets/fonts/Noto-Sans-700/Noto-Sans-700.woff2 (stored 0%)\n  adding: assets/fonts/Noto-Sans-700/Noto-Sans-700.woff (deflated 1%)\n  adding: assets/fonts/Noto-Sans-italic/ (stored 0%)\n  adding: assets/fonts/Noto-Sans-italic/Noto-Sans-italic.svg (deflated 67%)\n  adding: assets/fonts/Noto-Sans-italic/Noto-Sans-italic.woff2 (stored 0%)\n  adding: assets/fonts/Noto-Sans-italic/Noto-Sans-italic.eot (deflated 0%)\n  adding: assets/fonts/Noto-Sans-italic/Noto-Sans-italic.ttf (deflated 31%)\n  adding: assets/fonts/Noto-Sans-italic/Noto-Sans-italic.woff (deflated 1%)\n  adding: assets/stat_bear.png (deflated 18%)\n  adding: assets/img/ (stored 0%)\n  adding: assets/img/logo.svg (deflated 70%)\n  adding: assets/img/ls_format.png (deflated 4%)\n  adding: assets/styles.css (deflated 53%)\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.bash .cell-code}\nls -l assets.zip\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n-rw-r--r-- 1 scflocal scflocal 444853 Oct 30 17:18 assets.zip\n```\n\n\n:::\n:::\n\n\n\n\n`gzip` is a standard UNIX compression utility to compress individual files:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncp assets/img/ls_format.png test.png\nls -l test.png\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n-rw-r--r-- 1 scflocal scflocal 52402 Oct 30 17:18 test.png\n```\n\n\n:::\n:::\n\n\n\n\nHere we see that gzip can't compress the png file much, but it can help\na lot with other formats.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ngzip test.png\nls -l test.png.gz   # Not much smaller than the uncompressed file.\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n-rw-r--r-- 1 scflocal scflocal 50200 Oct 30 17:18 test.png.gz\n```\n\n\n:::\n:::\n\n\n\n\n\n\nFinally, the `tar` utility will combine multiple files and directories into a single archive. \n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ntar -cvf assets.tar assets\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nassets/\nassets/css/\nassets/css/style.scss\nassets/js/\nassets/js/scale.fix.js\nassets/fonts/\nassets/fonts/Noto-Sans-regular/\nassets/fonts/Noto-Sans-regular/Noto-Sans-regular.ttf\nassets/fonts/Noto-Sans-regular/Noto-Sans-regular.svg\nassets/fonts/Noto-Sans-regular/Noto-Sans-regular.woff2\nassets/fonts/Noto-Sans-regular/Noto-Sans-regular.eot\nassets/fonts/Noto-Sans-regular/Noto-Sans-regular.woff\nassets/fonts/Noto-Sans-700italic/\nassets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.ttf\nassets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.woff2\nassets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.eot\nassets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.woff\nassets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.svg\nassets/fonts/Noto-Sans-700/\nassets/fonts/Noto-Sans-700/Noto-Sans-700.ttf\nassets/fonts/Noto-Sans-700/Noto-Sans-700.eot\nassets/fonts/Noto-Sans-700/Noto-Sans-700.svg\nassets/fonts/Noto-Sans-700/Noto-Sans-700.woff2\nassets/fonts/Noto-Sans-700/Noto-Sans-700.woff\nassets/fonts/Noto-Sans-italic/\nassets/fonts/Noto-Sans-italic/Noto-Sans-italic.svg\nassets/fonts/Noto-Sans-italic/Noto-Sans-italic.woff2\nassets/fonts/Noto-Sans-italic/Noto-Sans-italic.eot\nassets/fonts/Noto-Sans-italic/Noto-Sans-italic.ttf\nassets/fonts/Noto-Sans-italic/Noto-Sans-italic.woff\nassets/stat_bear.png\nassets/img/\nassets/img/logo.svg\nassets/img/ls_format.png\nassets/styles.css\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.bash .cell-code}\nls -l assets.tar\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n-rw-r--r-- 1 scflocal scflocal 686080 Oct 30 17:18 assets.tar\n```\n\n\n:::\n:::\n\n\n\n\nAdding the `-z` flag also gzips the result. In that case there was more noticeable compression.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ntar -cvzf assets.tgz assets\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nassets/\nassets/css/\nassets/css/style.scss\nassets/js/\nassets/js/scale.fix.js\nassets/fonts/\nassets/fonts/Noto-Sans-regular/\nassets/fonts/Noto-Sans-regular/Noto-Sans-regular.ttf\nassets/fonts/Noto-Sans-regular/Noto-Sans-regular.svg\nassets/fonts/Noto-Sans-regular/Noto-Sans-regular.woff2\nassets/fonts/Noto-Sans-regular/Noto-Sans-regular.eot\nassets/fonts/Noto-Sans-regular/Noto-Sans-regular.woff\nassets/fonts/Noto-Sans-700italic/\nassets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.ttf\nassets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.woff2\nassets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.eot\nassets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.woff\nassets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.svg\nassets/fonts/Noto-Sans-700/\nassets/fonts/Noto-Sans-700/Noto-Sans-700.ttf\nassets/fonts/Noto-Sans-700/Noto-Sans-700.eot\nassets/fonts/Noto-Sans-700/Noto-Sans-700.svg\nassets/fonts/Noto-Sans-700/Noto-Sans-700.woff2\nassets/fonts/Noto-Sans-700/Noto-Sans-700.woff\nassets/fonts/Noto-Sans-italic/\nassets/fonts/Noto-Sans-italic/Noto-Sans-italic.svg\nassets/fonts/Noto-Sans-italic/Noto-Sans-italic.woff2\nassets/fonts/Noto-Sans-italic/Noto-Sans-italic.eot\nassets/fonts/Noto-Sans-italic/Noto-Sans-italic.ttf\nassets/fonts/Noto-Sans-italic/Noto-Sans-italic.woff\nassets/stat_bear.png\nassets/img/\nassets/img/logo.svg\nassets/img/ls_format.png\nassets/styles.css\n```\n\n\n:::\n:::\n\n::: {.cell}\n\n```{.bash .cell-code}\nls -l assets.tgz\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n-rw-r--r-- 1 scflocal scflocal 453455 Oct 30 17:18 assets.tgz\n```\n\n\n:::\n:::\n\n\n\n\nNow let's move that *tarball* (as it is called) to a new directory and unzip and expand it using the -x flag. \n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nmv assets.tgz /tmp\ncd /tmp\ntar -xvzf assets.tgz\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nassets/\nassets/css/\nassets/css/style.scss\nassets/js/\nassets/js/scale.fix.js\nassets/fonts/\nassets/fonts/Noto-Sans-regular/\nassets/fonts/Noto-Sans-regular/Noto-Sans-regular.ttf\nassets/fonts/Noto-Sans-regular/Noto-Sans-regular.svg\nassets/fonts/Noto-Sans-regular/Noto-Sans-regular.woff2\nassets/fonts/Noto-Sans-regular/Noto-Sans-regular.eot\nassets/fonts/Noto-Sans-regular/Noto-Sans-regular.woff\nassets/fonts/Noto-Sans-700italic/\nassets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.ttf\nassets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.woff2\nassets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.eot\nassets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.woff\nassets/fonts/Noto-Sans-700italic/Noto-Sans-700italic.svg\nassets/fonts/Noto-Sans-700/\nassets/fonts/Noto-Sans-700/Noto-Sans-700.ttf\nassets/fonts/Noto-Sans-700/Noto-Sans-700.eot\nassets/fonts/Noto-Sans-700/Noto-Sans-700.svg\nassets/fonts/Noto-Sans-700/Noto-Sans-700.woff2\nassets/fonts/Noto-Sans-700/Noto-Sans-700.woff\nassets/fonts/Noto-Sans-italic/\nassets/fonts/Noto-Sans-italic/Noto-Sans-italic.svg\nassets/fonts/Noto-Sans-italic/Noto-Sans-italic.woff2\nassets/fonts/Noto-Sans-italic/Noto-Sans-italic.eot\nassets/fonts/Noto-Sans-italic/Noto-Sans-italic.ttf\nassets/fonts/Noto-Sans-italic/Noto-Sans-italic.woff\nassets/stat_bear.png\nassets/img/\nassets/img/logo.svg\nassets/img/ls_format.png\nassets/styles.css\n```\n\n\n:::\n:::\n\n\n\n\n\nYou can see the whole directory structure of what was archived has been recovered in the new location:\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nls -l /tmp/assets\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\ntotal 112\ndrwxr-xr-x 2 scflocal scflocal  4096 Oct 29 15:17 css\ndrwxr-xr-x 6 scflocal scflocal  4096 Oct 29 15:17 fonts\ndrwxr-xr-x 2 scflocal scflocal  4096 Oct 29 15:17 img\ndrwxr-xr-x 2 scflocal scflocal  4096 Oct 29 15:17 js\n-rw-r--r-- 1 scflocal scflocal 92106 Oct 30 17:10 stat_bear.png\n-rw-r--r-- 1 scflocal scflocal   608 Oct 30 17:18 styles.css\n```\n\n\n:::\n:::\n\n\n\n\n\n## 6.2 Disk usage\n\nYou can can see how much disk space is being used versus available as follows. The 'Mounted on' column will generally identify the parts of the filesystem in a more user-friendly way than the 'Filesystem' column.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ndf -h\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nFilesystem                       Size  Used Avail Use% Mounted on\n/dev/sda2                         59G   32G   25G  57% /\ntmpfs                             63G   15M   63G   1% /dev/shm\ntmpfs                             13G   23M   13G   1% /run\ntmpfs                            5.0M     0  5.0M   0% /run/lock\ntmpfs                             13G   28K   13G   1% /run/user/3173\ntmpfs                             13G   28K   13G   1% /run/user/3520\ntmpfs                             13G   28K   13G   1% /run/user/3417\ntmpfs                             13G   28K   13G   1% /run/user/764\ntmpfs                             13G   28K   13G   1% /run/user/3023\ntmpfs                             13G   28K   13G   1% /run/user/3565\ntmpfs                             13G   28K   13G   1% /run/user/3530\ntmpfs                             13G   28K   13G   1% /run/user/3294\ntmpfs                             13G   28K   13G   1% /run/user/3066\ntmpfs                             13G   28K   13G   1% /run/user/3180\ntmpfs                             13G   40K   13G   1% /run/user/3189\ntmpfs                             13G   28K   13G   1% /run/user/3188\ntmpfs                             13G   32K   13G   1% /run/user/3605\ntmpfs                             13G   28K   13G   1% /run/user/3608\ntmpfs                             13G   32K   13G   1% /run/user/3466\ntmpfs                             13G   28K   13G   1% /run/user/3604\ntmpfs                             13G   28K   13G   1% /run/user/3218\ntmpfs                             13G   32K   13G   1% /run/user/3624\ntmpfs                             13G   28K   13G   1% /run/user/3082\ntmpfs                            4.0M     0  4.0M   0% /sys/fs/cgroup\n/dev/sda3                         59G   34G   22G  61% /var\n/dev/sda4                        472G  2.7G  445G   1% /var/tmp\n/dev/sda5                        1.3T   78G  1.1T   7% /tmp\noz.berkeley.edu:/pool0/system    6.0T  4.9T  1.2T  81% /system\noz.berkeley.edu:/pool0/scratch    37T   33T  4.2T  89% /scratch\noz.berkeley.edu:/pool0/accounts   66T   20T   47T  30% /accounts\ntmpfs                             13G   28K   13G   1% /run/user/3196\ntmpfs                             13G   32K   13G   1% /run/user/3625\n```\n\n\n:::\n:::\n\n\n\n\n\nIn general, you'll want to look at the '/' line, and on standard UNIX machines possibly at '/tmp', '/home', and others.\n\nWe can see usage in specific directories like this:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd assets\ndu -h\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n8.0K\t./css\n8.0K\t./js\n140K\t./fonts/Noto-Sans-regular\n140K\t./fonts/Noto-Sans-700italic\n140K\t./fonts/Noto-Sans-700\n132K\t./fonts/Noto-Sans-italic\n556K\t./fonts\n76K\t./img\n748K\t.\n```\n\n\n:::\n:::\n\n\n\n\n\nHere we see that the total usage is about a bit less than 700 KB, with, for example, about 70 KB of that in the `img` subdirectory.\n\nIf we only want a summary of usage for each top-level subdirectory, rather than showing all nested subdirectories:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd ~/tutorial-unix-basics\ndu -h -d 1\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n28K\t./_sass\n8.0K\t./_layouts\n4.0K\t./_site\n16K\t./_includes\n4.0K\t./_freeze\n748K\t./assets\n1.4M\t./.git\n108K\t./.quarto\n3.5M\t.\n```\n\n\n:::\n:::\n\n\n\n\n\n## 6.3 Machine information\n\nLinux machines (but not Macs) have system information provided in a few special files.\n\n`/proc/cpuinfo` shows information on each processor. \n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nhead -n 30 /proc/cpuinfo\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nprocessor\t: 0\nvendor_id\t: GenuineIntel\ncpu family\t: 6\nmodel\t\t: 45\nmodel name\t: Intel(R) Xeon(R) CPU E5-2609 0 @ 2.40GHz\nstepping\t: 7\nmicrocode\t: 0x71a\ncpu MHz\t\t: 2194.684\ncache size\t: 10240 KB\nphysical id\t: 0\nsiblings\t: 4\ncore id\t\t: 0\ncpu cores\t: 4\napicid\t\t: 0\ninitial apicid\t: 0\nfpu\t\t: yes\nfpu_exception\t: yes\ncpuid level\t: 13\nwp\t\t: yes\nflags\t\t: fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm pbe syscall nx pdpe1gb rdtscp lm constant_tsc arch_perfmon pebs bts rep_good nopl xtopology nonstop_tsc cpuid aperfmperf pni pclmulqdq dtes64 monitor ds_cpl vmx smx est tm2 ssse3 cx16 xtpr pdcm pcid dca sse4_1 sse4_2 x2apic popcnt tsc_deadline_timer aes xsave avx lahf_lm epb pti ssbd ibrs ibpb stibp tpr_shadow vnmi flexpriority ept vpid xsaveopt dtherm arat pln pts md_clear flush_l1d\nvmx flags\t: vnmi preemption_timer invvpid ept_x_only ept_1gb flexpriority tsc_offset vtpr mtf vapic ept vpid unrestricted_guest ple\nbugs\t\t: cpu_meltdown spectre_v1 spectre_v2 spec_store_bypass l1tf mds swapgs itlb_multihit mmio_unknown\nbogomips\t: 4800.18\nclflush size\t: 64\ncache_alignment\t: 64\naddress sizes\t: 46 bits physical, 48 bits virtual\npower management:\n\nprocessor\t: 1\nvendor_id\t: GenuineIntel\n```\n\n\n:::\n:::\n\n\n\n\n\nThis indicates there are at least two processors -- numbered 0 and 1 (we'd need to see the whole file to see if there are more). Each is an Intel Core i7. \n\n\nThis file has information on the memory available:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nhead -n 10 /proc/meminfo\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nMemTotal:       131966464 kB\nMemFree:         2237052 kB\nMemAvailable:   87569896 kB\nBuffers:          791452 kB\nCached:         40867444 kB\nSwapCached:      1244456 kB\nActive:         31230992 kB\nInactive:       49602752 kB\nActive(anon):    3790024 kB\nInactive(anon): 35422472 kB\n```\n\n\n:::\n:::\n\n\n\n\n\nThe key line is the *MemTotal* line, indicating 132 GB of RAM.\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncat /etc/issue\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\nUbuntu 22.04.1 LTS \\n \\l\n```\n\n\n:::\n:::\n\n\n\n\nWe're running Ubuntu version 22.04.\n\nWe can also use commands to get information:\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nnproc  # how many processors?\n```\n\n\n::: {.cell-output .cell-output-stdout}\n\n```\n8\n```\n\n\n:::\n:::\n\n\n\n\n```\n8\n```\n\n# 7 The shell\n\nThe shell provides a number of useful shortcuts, of which we highlight a couple here.\n\n## 7.1 Tab completion\n\nThe shell will try to auto-complete the names of commands/programs or of files when you type part of the name and then hit `<Tab>`. This can save quite a bit of typing, particularly for long file names. \n\n\n## 7.2 Keyboard shortcuts\n\nYou can navigate within a line using the usual arrows but also:\n\n* `Ctrl-a` moves to the beginning of the line\n* `Ctrl-e` moves to the end of the line\n* `Ctrl-k` deletes the rest of the line starting at the cursor\n* `Ctrl-y` pastes in whatever was deleted previously with `Ctrl-k`\n* `Ctrl-r` enables an [interactive history search](http://www.techrepublic.com/article/keyboard-shortcuts-in-bash-and-zsh/)\n\n## 7.3 Command history\n\nThe up and down arrow keys will move you through the history of commands you have entered in the terminal. So you can recover something you typed previously and then directly run it again, or edit it and then run the modified version. You run the command by pressing `<Enter>`, which you can do regardless of where your cursor currently is on the line you are editing.\n\nThere's also lots more functionality along these lines that we won't go into here.\n\n## 7.4 Saving your code as a shell script\n\nOften (particularly as you learn more sophisticated shell functionality) you will want to save your shell syntax in the form of a code file, called a script, that you could run another time.\n\nFor example, suppose you often need to do the following series of steps:\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\ncd \ntar -cvzf assets.tgz assets\nmv assets.tgz /tmp\ncd /tmp\ntar -xvzf assets.tgz\n```\n:::\n\n\n\n\nYou can put those lines into a file, say, `mv_assets.sh`, which will generally end in .sh.\n\nThen we can run the code in the file as follows. (Results not shown here.)\n\n\n\n\n::: {.cell}\n\n```{.bash .cell-code}\nchmod ugo+x mv_assets.sh  # Make the script executable by everyone.\n./mv_assets.sh            # Run it.\n```\n:::\n\n\n\n\nThe initial `./` is needed because UNIX is not expecting there to be an executable file in this particular directory. \n\nYou'll generally want to have the first line of your shell scripts indicate the shell to be used to execute the script, so you'd want to put `#!/bin/bash` as the first line of `mv_assets.sh`.\n\n# 8 Questions\n\n1) Try to run the following command `mkdir ~/projects/drought`. It will fail. Look in the help information on `mkdir` to figure out how to make it work without first creating the `projects` directory.\n\n2) Figure out how to list out the files in a directory in order of decreasing file size, as a way to see easily what the big files are that are taking up the most space. Modify this command to get the result in the ascending order.\n\n3) Use both `zip` and `tar -cvzf` to compress the `tutorial-unix-basics` directory. Is one much smaller than the other?\n\n4) Figure out how to print out free disk space in terms of megabytes. \n\n5) The `ls` command is itself an executable installed on the system. Where is it located?\n\n6) Where is `gzip` installed on the system? What are some other commands/executables that are installed in the same directory?\n\n7) Practice with moving/removing/copying. Make a copy of the `tutorial-unix-basics` directory (and all its contents) in `/tmp`. Now use `cd` to go into the copied directory. Remove the `/tmp/tutorial-unix-basics/.git` directory. Now run `git status`. Congratulations, you should discover that you've turned a directory that is a Git repository into a directory that is not considered a git repository.\n\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}